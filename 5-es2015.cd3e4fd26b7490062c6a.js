(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{A6qq:function(l){l.exports=JSON.parse('[{"id":1,"name":"Player 1"},{"id":2,"name":"Player 2"}]')},wmUN:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{constructor(l,n,t){this.router=l,this.route=n,this.matchstickService=t}ngOnInit(){this.route.params.subscribe(l=>{let n=parseInt(l.numberOfMatchsticks);this.game=this.matchstickService.initializeGame(n),this.firstPlayer=this.game.firstPlayer,this.secondPlayer=this.game.secondPlayer})}isShowMatchstick(l){return this.matchstickService.isShowMatchstick(this.game,l)}newGame(){this.router.navigate(["home"])}play(l){let n=this.matchstickService.play(this.game,l.idPlayer,l.choosenNumber);void 0!==n&&(alert("Bravo, le joueur N\xb0"+n.id+" est le gagnant"),this.router.navigate(["home"]))}}var r=t("iInd");let a=(()=>{class l{constructor(l,n){this.route=l,this.router=n}canActivate(){return this.route.params.subscribe(l=>{if(l.numberOfMatchsticks>0)return this.router.navigate(["home"]),!1}),!0}}return l.ngInjectableDef=e.Nb({factory:function(){return new l(e.Ob(r.a),e.Ob(r.k))},token:l,providedIn:"root"}),l})();class i{}var c=t("pMnS"),s=t("SVse");class o{}class b{constructor(l){this.matchstickService=l,this.playerPlay=new e.m}ngOnInit(){this.player=new o,this.player.id=parseInt(this.id),this.player.name=this.name}play(l,n){this.playerPlay.emit({idPlayer:l,choosenNumber:n})}}class m{}var p=t("A6qq");let y=(()=>{class l{findPlayerById(l){return p.find(n=>n.id===l)}}return l.ngInjectableDef=e.Nb({factory:function(){return new l},token:l,providedIn:"root"}),l})(),h=(()=>{class l{constructor(l){this.playerRepository=l}initializeGame(l){let n=new m;return n=new m,n.numberOfMatchsticks=l,n.numberOfCurrentMatchsticks=n.numberOfMatchsticks,n.firstPlayer=this.playerRepository.findPlayerById(1),n.secondPlayer=this.playerRepository.findPlayerById(2),n.currentPlayer=n.firstPlayer,n}isShowMatchstick(l,n){return l.numberOfCurrentMatchsticks>=n}play(l,n,t){let e;return l.numberOfCurrentMatchsticks=l.numberOfCurrentMatchsticks-t,0===l.numberOfCurrentMatchsticks?e=l.currentPlayer:l.currentPlayer=1===l.currentPlayer.id?l.secondPlayer:l.firstPlayer,e}}return l.ngInjectableDef=e.Nb({factory:function(){return new l(e.Ob(y))},token:l,providedIn:"root"}),l})();var d=e.pb({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{margin-left:3px}"]],data:{}});function f(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,10,"div",[["class","blc-player"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","player"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Ib(3,null,["",""])),(l()(),e.rb(4,0,null,null,6,"div",[["class","btnChoicePlayer"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=!1!==u.play(u.player.id,1)&&e),e}),null,null)),(l()(),e.Ib(-1,null,["1"])),(l()(),e.rb(7,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=!1!==u.play(u.player.id,2)&&e),e}),null,null)),(l()(),e.Ib(-1,null,["2"])),(l()(),e.rb(9,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=!1!==u.play(u.player.id,3)&&e),e}),null,null)),(l()(),e.Ib(-1,null,["3"]))],null,(function(l,n){var t=n.component;l(n,3,0,t.player.name),l(n,5,0,t.game.currentPlayer.id!==t.player.id||t.game.numberOfCurrentMatchsticks<1),l(n,7,0,t.game.currentPlayer.id!==t.player.id||t.game.numberOfCurrentMatchsticks<2),l(n,9,0,t.game.currentPlayer.id!==t.player.id||t.game.numberOfCurrentMatchsticks<3)}))}var g=e.pb({encapsulation:0,styles:[[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.title-page[_ngcontent-%COMP%]{margin-top:20px}.blc-matchsticks[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px;justify-content:center;max-width:100%;flex-wrap:wrap}.blc-players[_ngcontent-%COMP%]{display:flex;align-items:center}.blc-espacement[_ngcontent-%COMP%]{color:brown;width:100px}.blc-btNewGame[_ngcontent-%COMP%]{margin-top:60px}"]],data:{}});function k(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,0,"img",[["src","assets/matchsticks/matchstickon.gif"]],null,null,null,null,null))],null,null)}function P(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,0,"img",[["src","assets/matchsticks/matchstickoff.gif"]],null,null,null,null,null))],null,null)}function v(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","matchsticks-img"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,k)),e.qb(2,16384,null,0,s.j,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,P)),e.qb(4,16384,null,0,s.j,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,!0===t.isShowMatchstick(n.context.index+1)),l(n,4,0,!1===t.isShowMatchstick(n.context.index+1))}),null)}function w(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,15,"div",[["class","content"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","title-page"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e.Ib(-1,null,[" Jeu des allumettes"])),(l()(),e.rb(4,0,null,null,2,"div",[["class","blc-matchsticks"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,v)),e.qb(6,278528,null,0,s.i,[e.N,e.K,e.r],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(7,0,null,null,5,"div",[["class","blc-players"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,1,"app-player",[],null,[[null,"playerPlay"]],(function(l,n,t){var e=!0;return"playerPlay"===n&&(e=!1!==l.component.play(t)&&e),e}),f,d)),e.qb(9,114688,null,0,b,[h],{id:[0,"id"],name:[1,"name"],game:[2,"game"]},{playerPlay:"playerPlay"}),(l()(),e.rb(10,0,null,null,0,"div",[["class","blc-espacement"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"app-player",[],null,[[null,"playerPlay"]],(function(l,n,t){var e=!0;return"playerPlay"===n&&(e=!1!==l.component.play(t)&&e),e}),f,d)),e.qb(12,114688,null,0,b,[h],{id:[0,"id"],name:[1,"name"],game:[2,"game"]},{playerPlay:"playerPlay"}),(l()(),e.rb(13,0,null,null,2,"div",[["class","blc-btNewGame"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.newGame()&&e),e}),null,null)),(l()(),e.Ib(-1,null,["Nouvelle partie"]))],(function(l,n){var t=n.component;l(n,6,0,e.ab.constructor(t.game.numberOfMatchsticks)),l(n,9,0,t.firstPlayer.id,t.firstPlayer.name,t.game),l(n,12,0,t.secondPlayer.id,t.secondPlayer.name,t.game)}),null)}function M(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,1,"app-matchstick-game",[],null,null,null,w,g)),e.qb(1,114688,null,0,u,[r.k,r.a,h],null,null)],(function(l,n){l(n,1,0)}),null)}var O=e.nb("app-matchstick-game",u,M,{},{},[]);t.d(n,"MatchstickGameModuleNgFactory",(function(){return I}));var I=e.ob(i,[],(function(l){return e.Ab([e.Bb(512,e.j,e.Y,[[8,[c.a,O]],[3,e.j],e.w]),e.Bb(4608,s.l,s.k,[e.t,[2,s.y]]),e.Bb(1073742336,r.l,r.l,[[2,r.q],[2,r.k]]),e.Bb(1073742336,s.b,s.b,[]),e.Bb(1073742336,i,i,[]),e.Bb(1024,r.i,(function(){return[[{path:"",component:u,canActivate:[a]}]]}),[])])}))}}]);